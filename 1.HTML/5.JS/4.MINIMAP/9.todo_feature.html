<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style> 
        .done {
            text-decoration: line-through;
            color: gray
        }
        li { 
            display: flex;
            gap: 4px; 
        }
        .btn-box {
            display: flex;
            gap: 2px;  

        }

    </style>
</head>
<body>
    <h1>Todo List</h1>
    <input type="text" id="new-todo" placeholder="할일을 입력하시오"> <!--입력칸-->
    <button id="add-todo">입력</button> <!-- 버튼-->
    <ul id="todo-list"></ul> <!--리스트-->

    <script>
        // [로직]
        // 입력값 가져오기
        // 공백 검사
        // li/span/버튼 생성
        // 버튼 기능(완료/삭제) 등록
        // li에 넣고 ul에 추가
        // input 비우기
        // 엔터 기능

        // DOM 요소 가져오기 
        const newTodo = document.getElementById('new-todo'); //입력칸 
        const addBtn = document.getElementById('add-todo'); //버튼 
        const todoList = document.getElementById('todo-list'); //리스트 

        // addBtn을 클릭했을 때 함수 
        addBtn.addEventListener('click', () => {
            const newTodoText = newTodo.value; //newTodoText는 newTodo에 실제 적은 값

            // 1) 공백은 입력할 수 없음 
            if (newTodoText.trim() === '') { //적은 값이 공백일 경우를 확인 (.trim()앞뒤 공백을 제거한 문자열)
                alert('빈칸은 입력할 수 없습니다'); // 메세지 알림창 
                return; // 여기서 함수(클릭 핸들러) 실행을 멈추고 빠져나감
            }

            // 2-1. li 할일을 만들기 
            const new_li = document.createElement('li'); // 새 <li> 태그를 JS로 생성함
            
            // 2-2. TextSpan: 할일 내용을 담는 전용 상자 
            const textSpan = document.createElement('span');
            textSpan.textContent = newTodoText; // span 안에 “입력한 글자”를 텍스트로 넣음

            // 완료 버튼 생성, 실행 
            const doneBtn = document.createElement('Button');
            doneBtn.textContent = '완료'

            doneBtn.addEventListener('click', (event) => {
                textSpan.classList.toggle('done');
            });

            // 삭제 버튼 생성, 실행 
            const deleteBtn = document.createElement('Button');
            deleteBtn.textContent = '삭제';

            deleteBtn.addEventListener('click', (event) => {
                new_li.remove();
            });



            // 버튼끼리 묶기 
            const btnBox = document.createElement('div'); 
            btnBox.className = 'btn-box';
            btnBox.appendChild(doneBtn);
            btnBox.appendChild(deleteBtn);

            //new_li에 요소 추가 
            new_li.appendChild(textSpan); // “화면에 표시되는 순서”만 바꾸고,동작(기능)에는 영향 없음.
            new_li.appendChild(btnBox);
            //todoList에 new_li를 추가 
            todoList.appendChild(new_li);

            // 끝나면 없애기 
            newTodo.value = "";
            }

        );

        // 별도의 엔터 이벤트 
        newTodo.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                addBtn.click();
            }
        });


    </script>
    
</body>
</html>